!function(){angular.module("ngMinimalGrid",[]).provider("minimalGridConfig",function(){this.statsMessage="Showing %1 to %2 of %3 results",this.setStatsMessage=function(a){this.statsMessage=a},this.firstButtonLabel="First",this.setFirstLabel=function(a){this.firstButtonLabel=a},this.lastButtonLabel="Last",this.setLastLabel=function(a){this.lastButtonLabel=a},this.$get=function(){return this}}).directive("minimalGrid",["minimalGridConfig","$parse","$filter",function(a,e,t){return{restrict:"E",scope:{columns:"<",rows:"<",fake:"<?",totalRows:"<?",paginationMax:"<?",paginationRange:"<?",changeOrderByCallback:"&?onChangeOrderBy",changePaginateCallback:"&?onChangePaginate",clickRowCallback:"&?onClickRow"},template:'<div ng-bind="statsParse()"></div><table class="dataTable table table-striped table-bordered table-hover no-footer">  <thead>    <tr>      <th ng-click="changeOrderBy(column)" ng-repeat="column in columns" class="{{ column.class }} {{ column.hide }}">{{ column.title }}</th>    </tr>  </thead>  <tbody>    <tr class="odd" ng-repeat="dataRow in data | limitTo : pages.max">      <td ng-click="clickRow(dataRow)" ng-repeat="column in columns" class="{{ columns[$index].hide }}" ng-bind="columnParse(columns[$index].key, dataRow, columns[$index])"></td>    </tr>  </tbody></table><div class="pull-right">  <ul class="pagination">    <li><a href="#" ng-click="changePaginate(pages.first)">{{ firstButtonLabel }}</a></li>    <li>      <a href="#" ng-click="changePaginate(pages.previous)">        << </a>    </li>    <li class="{{ ( n == pages.current ? \'active\' : \'\') }}"      ng-click="changePaginate(n)" ng-repeat="n in pages.total | limitTo : pages.range : pages.pagination"><a href="#">{{ n }}</a></li>    <li><a href="#" ng-click="changePaginate(pages.next)"> >> </a></li>    <li><a href="#" ng-click="changePaginate(pages.last)">{{ lastButtonLabel }}</a></li>  </ul></div><div class="clearfix"></div>',link:function(n){function s(a){n.pages.total=[]
for(var e=Math.ceil(a/n.pages.max),t=1;t<=e;t++)n.pages.total.push(t)}function l(){n.pages.current>n.pages.total.length&&(n.pages.current=1,n._lastPagePaginate=1),n.pages.first=1,n.pages.last=n.pages.total.length,n.pages.previous=n.pages.current-1>0?n.pages.current-1:1,n.pages.next=n.pages.current+1<=n.pages.total.length?n.pages.current+1:n.pages.total.length,n.pages.pagination=i()}function i(){var a=n.pages.current-1,e=n.pages.total.length-n.pages.range
return a>e&&(a=e),a<0&&(a=0),a}function r(a){n._data=a,n.data=Object.assign([],n._data)}n.firstButtonLabel=a.firstButtonLabel,n.lastButtonLabel=a.lastButtonLabel,n.$watchCollection("rows",function(a){r(a),n.fake||(s(n.data.length),l(),n._lastColumnOrderBy&&n.changeOrderBy(n._lastColumnOrderBy),n._lastPagePaginate&&n.changePaginate(n._lastPagePaginate))}),(n.fake||n.totalRows)&&n.$watch("totalRows",function(a){n._lastTotalPopulatePages=a,s(a),l()}),n.columnParse=function(a,n,s){var l=e(a),i=l(n)
return s.formatDate&&(i=t("date")(1e3*i,s.formatDate,"+0000")),s.onRender=s.onRender||function(a){return a},s.onRender(i)},n.statsParse=function(){var e=a.statsMessage,t=(n.pages.current-1)*n.pages.max>0?(n.pages.current-1)*n.pages.max+1:n._data.length>0?1:0
if(n.fake)if(void 0!=n._lastTotalPopulatePages)var s=(n.pages.current-1)*n.pages.max+n.pages.max<n._lastTotalPopulatePages?(n.pages.current-1)*n.pages.max+n.pages.max:n._lastTotalPopulatePages,l=n._lastTotalPopulatePages
else var s=0,l=0
else var s=(n.pages.current-1)*n.pages.max+n.pages.max<n._data.length?(n.pages.current-1)*n.pages.max+n.pages.max:n._data.length,l=n._data.length
return e.replace("%1",t).replace("%2",s).replace("%3",l)},n.changeOrderBy=function(a){if(n._lastColumnOrderBy!=a){var e=a.class
n.columns.map(function(a){a.class="sorting"}),a.class="sorting_asc"==e?"sorting_desc":"sorting_asc",n._lastColumnOrderBy=Object.assign({},a)}if(!n.fake){1!=n.pages.current&&(n.pages.current=1,r(n._data),l())
r(t("orderBy")(n.data,a.key,"sorting_desc"==a.class))}n.changeOrderByCallback&&n.changeOrderByCallback({orderBy:{orderdirection:a.class.replace("sorting_",""),orderby:a.key}})},n.changePaginate=function(a){if(n._lastPagePaginate=Number(a),n.pages.current=a,l(),!n.fake){r(n._data)
var e=n.pages.current-1>0?(n.pages.current-1)*n.pages.max:0
n.data=n.data.slice(e)}n.changePaginateCallback&&n.changePaginateCallback({pages:n.pages})},n.clickRow=function(a){n.clickRowCallback&&n.clickRowCallback({row:a})},n._data=[],n.data=[],n._lastColumnOrderBy=void 0,n._lastPagePaginate=void 0,n._lastTotalPopulatePages=void 0,n.fake=n.fake||!1,n.columns.map(function(a){a.class="sorting"}),n.pages={first:1,last:1,previous:1,next:1,current:1,total:[1],max:n.paginationMax||10,range:n.paginationRange||5,pagination:0}}}}])}()
